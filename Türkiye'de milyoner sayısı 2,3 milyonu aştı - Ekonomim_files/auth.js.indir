window.Auth={},Auth.token="",Auth.check=!1,Auth.is_subscriber=!1,Auth.settings={wildcard_domain:".ekonomim.com",api_url:"https://abone.ekonomigazetesi.com/web/service/login",local_cookie:"ekonomim_user",remote_cookie:"ekonomim_login",visitor_types:{visitor:"ekonomim_visitor",member:"ekonomim_member"}},Auth.init=function(e){if(Auth.settings=Object.assign({},Auth.settings,e),null!==Auth.getCookie(Auth.settings.local_cookie)&&""!==Auth.getCookie(Auth.settings.local_cookie)&&null!==Auth.getCookie(Auth.settings.remote_cookie))Auth.check=!0,Auth.is_subscriber=Auth.getUser().is_subscriber;else if(null!==Auth.getCookie(Auth.settings.remote_cookie)){Auth.check=!0,Auth.is_subscriber=!0,Auth.token=Auth.getCookie(Auth.settings.remote_cookie);var t={id:1,token:Auth.token};HttpRequest.get(Auth.settings.api_url,t,(function(e){try{var t=JSON.parse(e),i=new Auth.User(t);Auth.setCookie(Auth.settings.local_cookie,JSON.stringify(i),1),Auth.check=!!t.status&&1===t.status,Auth.is_subscriber=i.is_subscriber}catch(e){Auth.is_subscriber=!1}}))}},Auth.User=function(e){if(e.subscriber.length<=0)return this.is_subscriber=!1,!1;this.token=e.subscriber.token,this.id=e.subscriber.id,this.remaining_time=Number(e.subscriber.order.remaining_time),this.name=e.subscriber.name,this.email=e.subscriber.email,this.login_date=Date.now(),this.is_subscriber=1===e.subscriber.order.status,this.visitor_type=e.subscriber.order.product_subscription},Auth.getUser=function(){return JSON.parse(Auth.getCookie(Auth.settings.local_cookie))},Auth.logged=function(){document.querySelector(".question-and-member > a.account").style.display="flex",document.querySelector(".question-and-member > a.logout").style.display="flex",document.querySelector(".question-and-member > a.question").style.display="none",document.querySelector(".question-and-member > a.member").style.display="none",document.querySelector(".account-and-logout").style.display="flex",document.querySelector(".subscribe-and-login").style.display="none",document.querySelector(".menu-search_wrapper > a.member").style.display="none",Auth.is_subscriber&&(adproNoAdsOnce=!0)},Auth.getDataLayer=function(){var e={};if(Auth.check){var t=Auth.getUser();e=t&&t.visitor_type?{userId:t.id,VisitorType:t.visitor_type,remaining_time:t.remaining_time.toString()}:{VisitorType:Auth.settings.visitor_types.member}}else e={VisitorType:Auth.settings.visitor_types.visitor};return e},Auth.logout=function(){Auth.token="",Auth.check=!1,Auth.is_subscriber=!1,Auth.setCookie(Auth.settings.local_cookie,"",-1),Auth.deleteCookie(Auth.settings.remote_cookie,".ekonomim.com"),window.location.reload()},Auth.getCookie=function(e){for(var t=e+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){for(var s=i[o];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return null},Auth.setCookie=function(e,t,i){var o="";if(i){var s=new Date;s.setTime(s.getTime()+60*i*60*1e3),o="; expires="+s.toUTCString()}document.cookie=e+"="+(t||"")+o+"; domain="+Auth.settings.wildcard_domain+"; path=/"},Auth.deleteCookie=function(e,t){document.cookie=e+"= ; domain="+t+"; expires=Thu, 01 Jan 1970 00:00:01 GMT"},window.HttpRequest={},HttpRequest.init=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(var e,t=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],i=0;i<t.length;i++)try{e=new ActiveXObject(t[i]);break}catch(e){}return e},HttpRequest.send=function(e,t,i,o,s){void 0===s&&(s=!0);var n=HttpRequest.init();n.open(i,e,s),n.onreadystatechange=function(){4==n.readyState&&t(n.responseText)},"POST"==i&&n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(o)},HttpRequest.get=function(e,t,i,o){var s=[];for(var n in t)s.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));HttpRequest.send(e+(s.length?"?"+s.join("&"):""),i,"GET",null,o)},HttpRequest.post=function(e,t,i,o){var s=[];for(var n in t)s.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));HttpRequest.send(e,i,"POST",s.join("&"),o)};